<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1744px" preserveAspectRatio="none" style="width:1193px;height:1744px;background:#FFFFFF;" version="1.1" viewBox="0 0 1193 1744" width="1193px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="1624.4768" style="stroke:#181818;stroke-width:1.0;" width="10" x="141" y="72.7739"/><rect fill="#FFFFFF" height="1575.7707" style="stroke:#181818;stroke-width:1.0;" width="10" x="146" y="112.4799"/><rect fill="#FFFFFF" height="1492.3587" style="stroke:#181818;stroke-width:1.0;" width="10" x="151" y="157.186"/><rect fill="#FFFFFF" height="503.8842" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="193.892"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="729.4822"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="792.8943"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="856.3063"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="919.7183"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="983.1304"/><rect fill="#FFFFFF" height="650.7083" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="1046.5424"/><rect fill="#FFFFFF" height="398.7662" style="stroke:#181818;stroke-width:1.0;" width="10" x="856" y="1149.6604"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="856" y="1580.1326"/><rect fill="#FFFFFF" height="619.0023" style="stroke:#181818;stroke-width:1.0;" width="10" x="1146" y="1078.2484"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="208.892"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="319.01"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="429.1281"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="539.2461"/><rect fill="none" height="96.118" style="stroke:#000000;stroke-width:1.5;" width="908.5" x="75.5" y="1169.6604"/><rect fill="none" height="193.2361" style="stroke:#000000;stroke-width:1.5;" width="1121.5" x="65.5" y="1279.7785"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="1414.6026"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="39.0679" y2="1706.2507"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="145.5" x2="145.5" y1="39.0679" y2="1706.2507"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="855.5" x2="855.5" y1="39.0679" y2="1706.2507"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1151" x2="1151" y1="39.0679" y2="1706.2507"/><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="48" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="12" y="26.9659">Main</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="48" x="5" y="1705.2507"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="34" x="12" y="1727.2166">Main</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="85.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="92.5" y="26.9659">HighLevelDriver</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="85.5" y="1705.2507"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="92.5" y="1727.2166">HighLevelDriver</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="798.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="805.5" y="26.9659">LowLevelDriver</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="798.5" y="1705.2507"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="805.5" y="1727.2166">LowLevelDriver</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="1125" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1132" y="26.9659">Serial</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52" x="1125" y="1705.2507"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1132" y="1727.2166">Serial</text><rect fill="#FFFFFF" height="1624.4768" style="stroke:#181818;stroke-width:1.0;" width="10" x="141" y="72.7739"/><rect fill="#FFFFFF" height="1575.7707" style="stroke:#181818;stroke-width:1.0;" width="10" x="146" y="112.4799"/><rect fill="#FFFFFF" height="1492.3587" style="stroke:#181818;stroke-width:1.0;" width="10" x="151" y="157.186"/><rect fill="#FFFFFF" height="503.8842" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="193.892"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="729.4822"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="792.8943"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="856.3063"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="919.7183"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="983.1304"/><rect fill="#FFFFFF" height="650.7083" style="stroke:#181818;stroke-width:1.0;" width="10" x="851" y="1046.5424"/><rect fill="#FFFFFF" height="398.7662" style="stroke:#181818;stroke-width:1.0;" width="10" x="856" y="1149.6604"/><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1.0;" width="10" x="856" y="1580.1326"/><rect fill="#FFFFFF" height="619.0023" style="stroke:#181818;stroke-width:1.0;" width="10" x="1146" y="1078.2484"/><polygon fill="#181818" points="129,68.7739,139,72.7739,129,76.7739,133,72.7739" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="29" x2="135" y1="72.7739" y2="72.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="36" y="66.9649">Create Instance</text><line style="stroke:#181818;stroke-width:1.0;" x1="151" x2="198" y1="99.4799" y2="99.4799"/><line style="stroke:#181818;stroke-width:1.0;" x1="198" x2="198" y1="99.4799" y2="112.4799"/><line style="stroke:#181818;stroke-width:1.0;" x1="157" x2="198" y1="112.4799" y2="112.4799"/><polygon fill="#181818" points="167,108.4799,157,112.4799,167,116.4799,163,112.4799" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="163" y="93.6709">initLynxarm()</text><line style="stroke:#181818;stroke-width:1.0;" x1="156" x2="203" y1="144.186" y2="144.186"/><line style="stroke:#181818;stroke-width:1.0;" x1="203" x2="203" y1="144.186" y2="157.186"/><line style="stroke:#181818;stroke-width:1.0;" x1="162" x2="203" y1="157.186" y2="157.186"/><polygon fill="#181818" points="172,153.186,162,157.186,172,161.186,168,157.186" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="168" y="138.377">sendPredefinedPosition(PARK)</text><polygon fill="#181818" points="839,189.892,849,193.892,839,197.892,843,193.892" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="845" y1="193.892" y2="193.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="515" x="168" y="188.083">queueCommand(0, convertToSafePWM(BASE_ROTOR_PARK, BASE_LEFT, BASE_RIGHT))</text><path d="M75.5,208.892 L142.5,208.892 L142.5,218.598 L132.5,228.598 L75.5,228.598 L75.5,208.892 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="208.892"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="90.5" y="223.789">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="156" x="157.5" y="222.6509">[channel &lt; 0 or channel &gt; 31]</text><polygon fill="#181818" points="172,248.304,162,252.304,172,256.304,168,252.304" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="850" y1="252.304" y2="252.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="178" y="246.495">return false</text><line style="stroke:#181818;stroke-width:1.0;" x1="861" x2="903" y1="291.01" y2="291.01"/><line style="stroke:#181818;stroke-width:1.0;" x1="903" x2="903" y1="291.01" y2="304.01"/><line style="stroke:#181818;stroke-width:1.0;" x1="862" x2="903" y1="304.01" y2="304.01"/><polygon fill="#181818" points="872,300.01,862,304.01,872,308.01,868,304.01" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="868" y="285.201">command += "C" + std::to_string(channel)</text><path d="M75.5,319.01 L142.5,319.01 L142.5,328.716 L132.5,338.716 L75.5,338.716 L75.5,319.01 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="319.01"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="90.5" y="333.907">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="222" x="157.5" y="332.7689">[pulse_width &lt; 500 or pulse_width &gt; 2500]</text><polygon fill="#181818" points="172,358.4221,162,362.4221,172,366.4221,168,362.4221" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="850" y1="362.4221" y2="362.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="178" y="356.6131">return false</text><line style="stroke:#181818;stroke-width:1.0;" x1="861" x2="903" y1="401.1281" y2="401.1281"/><line style="stroke:#181818;stroke-width:1.0;" x1="903" x2="903" y1="401.1281" y2="414.1281"/><line style="stroke:#181818;stroke-width:1.0;" x1="862" x2="903" y1="414.1281" y2="414.1281"/><polygon fill="#181818" points="872,410.1281,862,414.1281,872,418.1281,868,414.1281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="868" y="395.3191">command += "P" + std::to_string(pulse_width)</text><path d="M75.5,429.1281 L142.5,429.1281 L142.5,438.8341 L132.5,448.8341 L75.5,448.8341 L75.5,429.1281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="429.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="90.5" y="444.0251">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="59" x="157.5" y="442.887">[speed &lt; 1]</text><polygon fill="#181818" points="172,468.5401,162,472.5401,172,476.5401,168,472.5401" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="850" y1="472.5401" y2="472.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="178" y="466.7311">return false</text><line style="stroke:#181818;stroke-width:1.0;" x1="861" x2="903" y1="511.2461" y2="511.2461"/><line style="stroke:#181818;stroke-width:1.0;" x1="903" x2="903" y1="511.2461" y2="524.2461"/><line style="stroke:#181818;stroke-width:1.0;" x1="862" x2="903" y1="524.2461" y2="524.2461"/><polygon fill="#181818" points="872,520.2461,862,524.2461,872,528.2461,868,524.2461" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="868" y="505.4371">command += "S" + std::to_string(speed)</text><path d="M75.5,539.2461 L142.5,539.2461 L142.5,548.9521 L132.5,558.9521 L75.5,558.9521 L75.5,539.2461 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="539.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="90.5" y="554.1431">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="138" x="157.5" y="553.005">[time &lt; 0 or time &gt; 65535]</text><polygon fill="#181818" points="172,578.6582,162,582.6582,172,586.6582,168,582.6582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="850" y1="582.6582" y2="582.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="178" y="576.8492">return false</text><line style="stroke:#181818;stroke-width:1.0;" x1="861" x2="903" y1="621.3642" y2="621.3642"/><line style="stroke:#181818;stroke-width:1.0;" x1="903" x2="903" y1="621.3642" y2="634.3642"/><line style="stroke:#181818;stroke-width:1.0;" x1="862" x2="903" y1="634.3642" y2="634.3642"/><polygon fill="#181818" points="872,630.3642,862,634.3642,872,638.3642,868,634.3642" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="868" y="615.5552">command += "T" + std::to_string(time)</text><polygon fill="#181818" points="172,662.0702,162,666.0702,172,670.0702,168,666.0702" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="850" y1="666.0702" y2="666.0702"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="178" y="660.2612">return true</text><polygon fill="#181818" points="172,693.7762,162,697.7762,172,701.7762,168,697.7762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="855" y1="697.7762" y2="697.7762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="178" y="691.9672">return</text><polygon fill="#181818" points="839,725.4822,849,729.4822,839,733.4822,843,729.4822" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="845" y1="729.4822" y2="729.4822"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="671" x="168" y="723.6732">queueCommand(1, convertToSafePWM(SHOULDER_PARK, SHOULDER_BACKWARDS, SHOULDER_HORIZONTAL))</text><polygon fill="#181818" points="172,757.1882,162,761.1882,172,765.1882,168,761.1882" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="855" y1="761.1882" y2="761.1882"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="178" y="755.3792">return</text><polygon fill="#181818" points="839,788.8943,849,792.8943,839,796.8943,843,792.8943" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="845" y1="792.8943" y2="792.8943"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="560" x="168" y="787.0853">queueCommand(2, convertToSafePWM(ELBOW_PARK, ELBOW_STRAIGHT, ELBOW_INWARDS))</text><polygon fill="#181818" points="172,820.6003,162,824.6003,172,828.6003,168,824.6003" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="855" y1="824.6003" y2="824.6003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="178" y="818.7913">return</text><polygon fill="#181818" points="839,852.3063,849,856.3063,839,860.3063,843,856.3063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="845" y1="856.3063" y2="856.3063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="483" x="168" y="850.4973">queueCommand(3, convertToSafePWM(WRIST_PARK, WRIST_DOWN, WRIST_UP))</text><polygon fill="#181818" points="172,884.0123,162,888.0123,172,892.0123,168,888.0123" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="855" y1="888.0123" y2="888.0123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="178" y="882.2033">return</text><polygon fill="#181818" points="839,915.7183,849,919.7183,839,923.7183,843,919.7183" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="845" y1="919.7183" y2="919.7183"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="549" x="168" y="913.9093">queueCommand(4, convertToSafePWM(GRIPPER_PARK, GRIPPER_CLOSED, GRIPPER_OPEN))</text><polygon fill="#181818" points="172,947.4243,162,951.4243,172,955.4243,168,951.4243" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="855" y1="951.4243" y2="951.4243"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="178" y="945.6153">return</text><polygon fill="#181818" points="839,979.1304,849,983.1304,839,987.1304,843,983.1304" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="845" y1="983.1304" y2="983.1304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="649" x="168" y="977.3214">queueCommand(5, convertToSafePWM(WRIST_ROTATE_PARK, WRIST_ROTATE_LEFT, WRIST_ROTATE_RIGHT))</text><polygon fill="#181818" points="172,1010.8364,162,1014.8364,172,1018.8364,168,1014.8364" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="855" y1="1014.8364" y2="1014.8364"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="178" y="1009.0274">return</text><polygon fill="#181818" points="839,1042.5424,849,1046.5424,839,1050.5424,843,1046.5424" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="845" y1="1046.5424" y2="1046.5424"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="168" y="1040.7334">sendQueuedCommands()</text><polygon fill="#181818" points="1134,1074.2484,1144,1078.2484,1134,1082.2484,1138,1078.2484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="861" x2="1140" y1="1078.2484" y2="1078.2484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="868" y="1072.4394">Open()</text><polygon fill="#181818" points="872,1105.9544,862,1109.9544,872,1113.9544,868,1109.9544" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="866" x2="1145" y1="1109.9544" y2="1109.9544"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="878" y="1104.1454">return</text><line style="stroke:#181818;stroke-width:1.0;" x1="861" x2="908" y1="1136.6604" y2="1136.6604"/><line style="stroke:#181818;stroke-width:1.0;" x1="908" x2="908" y1="1136.6604" y2="1149.6604"/><line style="stroke:#181818;stroke-width:1.0;" x1="867" x2="908" y1="1149.6604" y2="1149.6604"/><polygon fill="#181818" points="877,1145.6604,867,1149.6604,877,1153.6604,873,1149.6604" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="873" y="1130.8514">sendSerialMessage(command)</text><path d="M75.5,1169.6604 L142.5,1169.6604 L142.5,1179.3665 L132.5,1189.3665 L75.5,1189.3665 L75.5,1169.6604 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="96.118" style="stroke:#000000;stroke-width:1.5;" width="908.5" x="75.5" y="1169.6604"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="90.5" y="1184.5575">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102" x="157.5" y="1183.4194">[serial is not open]</text><line style="stroke:#181818;stroke-width:1.0;" x1="866" x2="908" y1="1213.0725" y2="1213.0725"/><line style="stroke:#181818;stroke-width:1.0;" x1="908" x2="908" y1="1213.0725" y2="1226.0725"/><line style="stroke:#181818;stroke-width:1.0;" x1="867" x2="908" y1="1226.0725" y2="1226.0725"/><polygon fill="#181818" points="877,1222.0725,867,1226.0725,877,1230.0725,873,1226.0725" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="873" y="1207.2635">clearCommand()</text><polygon fill="#181818" points="172,1253.7785,162,1257.7785,172,1261.7785,168,1257.7785" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="855" y1="1257.7785" y2="1257.7785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="178" y="1251.9695">return false</text><path d="M65.5,1279.7785 L132.5,1279.7785 L132.5,1289.4845 L122.5,1299.4845 L65.5,1299.4845 L65.5,1279.7785 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="193.2361" style="stroke:#000000;stroke-width:1.5;" width="1121.5" x="65.5" y="1279.7785"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="80.5" y="1294.6755">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="121" x="147.5" y="1293.5374">[command length &gt; 1]</text><line style="stroke:#181818;stroke-width:1.0;" x1="866" x2="908" y1="1323.1905" y2="1323.1905"/><line style="stroke:#181818;stroke-width:1.0;" x1="908" x2="908" y1="1323.1905" y2="1336.1905"/><line style="stroke:#181818;stroke-width:1.0;" x1="867" x2="908" y1="1336.1905" y2="1336.1905"/><polygon fill="#181818" points="877,1332.1905,867,1336.1905,877,1340.1905,873,1336.1905" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="873" y="1317.3815">sendSerialMessage(command)</text><polygon fill="#181818" points="1134,1363.8965,1144,1367.8965,1134,1371.8965,1138,1367.8965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="866" x2="1140" y1="1367.8965" y2="1367.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="873" y="1362.0875">write_some(boost::asio::buffer(command));</text><polygon fill="#181818" points="877,1395.6026,867,1399.6026,877,1403.6026,873,1399.6026" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="871" x2="1145" y1="1399.6026" y2="1399.6026"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="883" y="1393.7936">return</text><path d="M75.5,1414.6026 L142.5,1414.6026 L142.5,1424.3086 L132.5,1434.3086 L75.5,1434.3086 L75.5,1414.6026 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="848" x="75.5" y="1414.6026"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="90.5" y="1429.4996">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="151" x="157.5" y="1428.3615">[message sent successfully]</text><polygon fill="#181818" points="172,1454.0146,162,1458.0146,172,1462.0146,168,1458.0146" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="855" y1="1458.0146" y2="1458.0146"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="178" y="1452.2056">return true</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="866" x2="908" y1="1503.7206" y2="1503.7206"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="908" x2="908" y1="1503.7206" y2="1516.7206"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="867" x2="908" y1="1516.7206" y2="1516.7206"/><polygon fill="#181818" points="877,1512.7206,867,1516.7206,877,1520.7206,873,1516.7206" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="873" y="1497.9116">return false</text><polygon fill="#181818" points="172,1544.4266,162,1548.4266,172,1552.4266,168,1548.4266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="850" y1="1548.4266" y2="1548.4266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="178" y="1542.6176">return false</text><polygon fill="#181818" points="844,1576.1326,854,1580.1326,844,1584.1326,848,1580.1326" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="850" y1="1580.1326" y2="1580.1326"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="168" y="1574.3236">clearCommand()</text><polygon fill="#181818" points="172,1607.8387,162,1611.8387,172,1615.8387,168,1611.8387" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="166" x2="850" y1="1611.8387" y2="1611.8387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38" x="178" y="1606.0297">return</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="161" x2="203" y1="1648.5447" y2="1648.5447"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="203" x2="203" y1="1648.5447" y2="1661.5447"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="156" x2="203" y1="1661.5447" y2="1661.5447"/><polygon fill="#181818" points="166,1657.5447,156,1661.5447,166,1665.5447,162,1661.5447" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="168" y="1642.7357">return true</text><polygon fill="#181818" points="40,1684.2507,30,1688.2507,40,1692.2507,36,1688.2507" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="34" x2="140" y1="1688.2507" y2="1688.2507"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="46" y="1682.4417">return true</text><!--MD5=[10dc156dbb2b9fc4f0c64bab102d43fe]
@startuml
participant "Main" as M
participant "HighLevelDriver" as HLD
participant "LowLevelDriver" as LLD

M -> HLD: Create Instance
activate HLD
HLD -> HLD: initLynxarm()
activate HLD
HLD -> HLD: sendPredefinedPosition(PARK)
activate HLD

HLD -> LLD: queueCommand(0, convertToSafePWM(BASE_ROTOR_PARK, BASE_LEFT, BASE_RIGHT))
activate LLD
opt channel < 0 or channel > 31
  LLD - -> HLD: return false
end

LLD -> LLD: command += "C" + std::to_string(channel)

opt pulse_width < 500 or pulse_width > 2500
  LLD - -> HLD: return false
end

LLD -> LLD: command += "P" + std::to_string(pulse_width)

opt speed < 1
  LLD - -> HLD: return false
end

LLD -> LLD: command += "S" + std::to_string(speed)

opt time < 0 or time > 65535
  LLD - -> HLD: return false
end

LLD -> LLD: command += "T" + std::to_string(time)

LLD - -> HLD: return true
LLD - -> HLD: return
deactivate LLD

HLD -> LLD: queueCommand(1, convertToSafePWM(SHOULDER_PARK, SHOULDER_BACKWARDS, SHOULDER_HORIZONTAL))
activate LLD
LLD - -> HLD: return
deactivate LLD

HLD -> LLD: queueCommand(2, convertToSafePWM(ELBOW_PARK, ELBOW_STRAIGHT, ELBOW_INWARDS))
activate LLD
LLD - -> HLD: return
deactivate LLD

HLD -> LLD: queueCommand(3, convertToSafePWM(WRIST_PARK, WRIST_DOWN, WRIST_UP))
activate LLD
LLD - -> HLD: return
deactivate LLD

HLD -> LLD: queueCommand(4, convertToSafePWM(GRIPPER_PARK, GRIPPER_CLOSED, GRIPPER_OPEN))
activate LLD
LLD - -> HLD: return
deactivate LLD

HLD -> LLD: queueCommand(5, convertToSafePWM(WRIST_ROTATE_PARK, WRIST_ROTATE_LEFT, WRIST_ROTATE_RIGHT))
activate LLD
LLD - -> HLD: return
deactivate LLD

HLD -> LLD: sendQueuedCommands()
activate LLD
LLD -> Serial: Open()
activate Serial
Serial - -> LLD: return
LLD -> LLD: sendSerialMessage(command)
activate LLD
opt serial is not open
  LLD -> LLD: clearCommand()
  LLD - -> HLD: return false
end

opt command length > 1
  LLD -> LLD: sendSerialMessage(command)
  LLD -> Serial: write_some(boost::asio::buffer(command));
  Serial - -> LLD: return
  opt message sent successfully
    LLD - -> HLD: return true
  end
end
LLD - -> LLD: return false
LLD - -> HLD: return false
deactivate LLD

HLD -> LLD: clearCommand()
activate LLD
LLD - -> HLD: return
deactivate LLD

HLD - -> HLD: return true
deactivate HLD
HLD - -> M: return true
deactivate HLD
@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>